# 收藏夹功能 (Favorites Feature)

## 概述
收藏夹在窗口顶部（TabBar 下方）提供一条“收藏栏”，用于快速打开常用目录/路径。

当前实现为**按标签页（Tab）独立**：不同 Tab 的收藏互不影响。

## 使用方法

### 添加到收藏夹
1. 在文件浏览器中右键点击任何文件夹
2. 从右键菜单中选择"添加到收藏夹"
3. 该路径将被添加到收藏夹中

### 访问收藏夹
1. 在顶部收藏栏看到星标（★）和收藏项
2. 单击收藏项，会在当前 Tab 内新建一个 Files/Preview 块并打开该路径

### 管理收藏夹
- **删除收藏**: 右键点击收藏项，选择“删除”

## 特性

### 快速访问
- 顶部横向排列，支持水平滚动
- 右键菜单提供删除操作

### 持久化存储
- 收藏夹数据保存在浏览器 localStorage 中（按 TabId 分隔）
- 关闭应用后收藏数据仍然保留（只要该 Tab 仍在工作区中）
- 支持导入/导出（未来版本）

### 快速访问
- 点击收藏项目可快速导航到对应路径
- 双击快速打开目录
- 右键菜单提供额外操作

## 实现细节

### 文件结构
- `frontend/app/store/favorites-model.ts` - 收藏夹数据模型和业务逻辑
- `frontend/app/workspace/favorites-bar.tsx` - 顶部收藏栏 UI 组件

### 核心组件
1. **FavoritesModel** - 单例模式，管理收藏数据
   - 支持增删改查操作
   - 树形结构管理
   - localStorage 持久化

2. **FavoritesBar** - React 组件
   - 显示收藏项（横向）
   - 点击打开路径（新建 Preview 块）
   - 右键删除

### 集成点
- 右键菜单添加了"添加到收藏夹"选项
- 事件系统用于跨组件通信

## 未来改进

- [ ] 收藏夹导入/导出
- [ ] 收藏夹拖拽排序
- [ ] 收藏夹搜索功能
- [ ] 与云端同步
- [ ] 自定义快捷键
- [ ] 收藏夹图标自定义
