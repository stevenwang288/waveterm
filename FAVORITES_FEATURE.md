# 收藏夹功能 (Favorites Feature)

## 概述
收藏夹是一个新的右侧边栏功能，允许用户快速访问经常使用的目录和文件路径。

## 使用方法

### 添加到收藏夹
1. 在文件浏览器中右键点击任何文件夹
2. 从右键菜单中选择"添加到收藏夹"
3. 该路径将被添加到收藏夹中

### 访问收藏夹
1. 看到右侧边栏上的星形图标（★）
2. 点击星形图标切换到收藏夹面板
3. 双击任何收藏项目来导航到该路径

### 管理收藏夹
- **删除收藏**: 右键点击收藏项目，选择"删除"
- **创建分类**: 右键点击收藏项目，选择"新建分类"来创建子分类
- **组织结构**: 收藏夹支持多级嵌套，像浏览器书签一样
- **展开/折叠**: 点击分类左边的箭头展开或折叠

## 特性

### 浏览器式设计
- 收藏夹采用树形结构，类似于浏览器的书签功能
- 支持无限层级的嵌套分类
- 每个收藏项目都可以有下级分类

### 持久化存储
- 收藏夹数据保存在浏览器 localStorage 中
- 关闭应用后收藏数据仍然保留
- 支持导入/导出（未来版本）

### 快速访问
- 点击收藏项目可快速导航到对应路径
- 双击快速打开目录
- 右键菜单提供额外操作

## 实现细节

### 文件结构
- `frontend/app/store/favorites-model.ts` - 收藏夹数据模型和业务逻辑
- `frontend/app/workspace/favorites.tsx` - 收藏夹面板UI组件
- `frontend/app/workspace/right-sidebar.tsx` - 右侧边栏容器，管理Widgets和Favorites的切换

### 核心组件
1. **FavoritesModel** - 单例模式，管理收藏数据
   - 支持增删改查操作
   - 树形结构管理
   - localStorage 持久化

2. **FavoritesPanel** - React 组件
   - 显示收藏列表
   - 处理展开/折叠
   - 上下文菜单操作

3. **RightSidebar** - 左侧栏容器
   - 在 Widgets 和 Favorites 之间切换
   - 标签式导航

### 集成点
- 右键菜单添加了"添加到收藏夹"选项
- PreviewView 监听 navigate-to-path 事件实现导航
- 事件系统用于跨组件通信

## 未来改进

- [ ] 收藏夹导入/导出
- [ ] 收藏夹拖拽排序
- [ ] 收藏夹搜索功能
- [ ] 与云端同步
- [ ] 自定义快捷键
- [ ] 收藏夹图标自定义
