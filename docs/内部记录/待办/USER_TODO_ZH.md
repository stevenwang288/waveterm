# 用户需求执行清单（持续更新）

> 规则：仅按本清单执行；每完成一项立即勾选；异常中断后从这里恢复。

## 当前优先级（P0）
- [x] 顶部按钮顺序固定为 `AI -> 收藏 -> 服务器 -> 布局 -> Git`
- [x] 移除“标签页下方单独收藏横条”
- [x] 终端右键菜单增加“用指定 AI 打开”子菜单（6 个命令：`codex/claude/gemini/amp/iflow/opencode`）
- [x] 收藏项右键菜单支持：`打开终端`、`打开文件管理器`、`复制完整路径`、`应用到当前终端`、`自动命令`
- [x] 地址栏点击进入可编辑模式（不再自动覆盖粘贴内容）
- [x] 文件管理器顶部增加关闭按钮
- [x] 文件管理器支持：后退 / 前进 / 向上 / 刷新 / 复制路径 / 收藏 / 视图模式切换
- [x] 布局侧面板：一键 2/3/4/6/8/9 分屏 + 保存/恢复（含每格路径 + 启动命令）

## 进行中（P1）
- [x] `AI / 收藏 / 服务器 / Git` 统一为与 AI 相同的“左侧活动栏右侧展开面板”交互
- [x] Git 从“突兀弹层/新终端块”改为统一侧面板入口
- [x] 左侧工具栏中的 Git 图标点击行为改为打开 Git 侧面板
- [x] 通知气泡：终端响铃/未读时右下角堆叠提示，点击跳转到对应标签页+分屏并清除未读
- [x] 终端滚轮滚动过快：`fastScrollSensitivity=1`；新增 `term:wheellinescroll`（默认 true）让鼠标滚轮逐行滚动（触控板保留平滑滚动）
- [x] 终端按行滚动：方向键 `↑/↓` 在“已滚动离底部”时滚动 1 行（在底部时保留原本命令行/TUI 行为，避免冲突）
- [x] Windows `Alt+1` 切换到第 1 个标签页：在 Windows 主进程拦截 `Alt+数字` 并 reinject，规避 OS/IME 吞键
- [x] 自检并清理 Git 面板中的乱码文案（若存在）
- [x] 自检并确认“最右上角三点菜单”全部中文可读

## UI/交互细化（P2）
- [x] 收藏图标使用星标（避免乱码文本）
- [x] 服务器面板支持本地/远程分组显示
- [x] 右键与工具条中的“用指定 AI 打开”保持一致
- [ ] 左侧侧边栏按钮顺序拖拽自定义（后续需求）

## 颜色与主题（P2）
- [x] 前端可修改 Logo 颜色（`关于`弹窗）
- [x] 前端可修改主题色（`关于`弹窗）
- [x] 进一步梳理并统一剩余非主题变量硬编码颜色（例如 Tab 指示器铃铛颜色改为 `var(--warning-color)`）

## 构建与交付（P3）
- [x] `npm run build:dev` 通过
- [ ] 开发版回归启动并截图确认
- [x] 生产包构建（Windows）（`make/WaveCN-win32-x64-*.exe`）
- [ ] Linux 构建说明与安装命令整理
- [ ] 推送到用户远端仓库（按用户要求）

## 本轮新增风险/错误记录
- [x] `TypeError: ... fullConfigAtom` 已加防御式 fallback
- [x] `TypeError: ... getBoundingClientRect` 已增加空值/连接状态保护
- [ ] 文件管理器“长时间打开卡死”压测复现（用户确认现已不复现，暂不做）

## 备注
- 收藏是全局存储（不绑定标签页），支持本地与远程连接路径。
- 若路径为远程连接，收藏会同时记录 `connection + path`。
